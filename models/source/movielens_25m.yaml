version: 2

sources:
  - name: movielens_25m
    schema: movielens_25m
    description: >
      Raw data from Movielens https://grouplens.org/datasets/movielens/

    tables: 
      - name: genome_scores

      - name: genome_tags

      - name: links
        columns:
          - name: movieId
            tests:
              - unique
              - not_null

      - name: movies
        columns:
          - name: movieId
            tests:
              - unique
              - not_null
          - name: genres
            tests:
              - not_null

      - name: ratings
        tests:
          - unique:
              column_name: CONCAT(movieId, ',', userId)
        columns:
          - name: userId
            tests:
              - not_null
          - name: movieId
            tests:
              - not_null
          - name: rating
            tests:
              - not_null
          - name: timestamp
            tests:
              - not_null

      - name: tags

